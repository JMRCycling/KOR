<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KOR | Contact Us</title>
    <link type="text/css" rel="stylesheet" href="styles/styles.css" />
    <link rel="icon" href="./images/KOR_app_Logo.png" />
    <style>
      form {
        /* Center the form on the page */
        margin: 0 auto;
        width: 400px;
        /* Form outline */
        padding: 1em;
        border: 1px solid #ccc;
        border-radius: 1em;
      }

      ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      form li + li {
        margin-top: 1em;
      }

      label {
        /* Uniform size & alignment */
        display: inline-block;
        width: 90px;
        text-align: right;
      }

      input,
      textarea {
        /* To make sure that all text fields have the same font settings
            By default, textareas have a monospace font */
        font: 1em sans-serif;

        /* Uniform text field size */
        width: 300px;
        box-sizing: border-box;

        /* Match form field borders */
        border: 1px solid #999;
      }

      input:focus,
      textarea:focus {
        /* Additional highlight for focused elements */
        border-color: #000;
      }

      textarea {
        /* Align multiline text fields with their labels */
        vertical-align: top;

        /* Provide space to type some text */
        height: 5em;
      }

      .button {
        /* Align buttons with the text fields */
        padding-left: 90px; /* same size as the label elements */
      }

      button {
        /* This extra margin represent roughly the same space as the space
            between the labels and their text fields */
        margin-left: 0.5em;
      }
      #feedback {
        background-color: antiquewhite;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        padding: 0.5em;
        /* make this element invisible until we are ready for it */
        display: none;
      }
      .moveDown {
        /* margin-top: 10em; */
        position: absolute;
        top: 50%;
      }
    </style>
  </head>
  <script>
    var res = document.cookie;
    var multiple = res.split(';');
    for (var i = 0; i < multiple.length; i++) {
      var key = multiple[i].split('=');
      document.cookie = key[0] + ' =; expires = Thu, 01 Jan 1970 00:00:00 UTC';
    }
  </script>
  <body>
    <header class="header">
      <div id="header_grid">
        <a href="index.html" target="_parent">
          <img class="icon" src="images/KOR_app_Logo.png" alt="KOR Logo" />
        </a>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav">
          <a class="link" href="index.html" target="_parent">Home</a>
          <a class="link" href="our_app.html" target="_parent">The KOR App</a>
          <a class="link" href="our_story.html" target="_parent">Our Story</a>
          <a class="link" href="sign_up.html" target="_parent">Shop Sign Up</a>
          <a class="link" href="FAQ.html" target="_parent">FAQ</a>
          <a class="link" href="contact_us.html" target="_parent">Contact Us</a>
        </nav>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <nav class="right_position desktop-nav">
          <a class="link" href="./shop_tools/login.html" target="_blank"
            >Log In</a
          >
        </nav>
      </div>

      <!-- Mobile Navigation -->
      <nav class="mobile-nav" id="mobile-nav">
        <a class="mobile-link" href="index.html" target="_parent">Home</a>
        <a class="mobile-link" href="our_app.html" target="_parent"
          >The KOR App</a
        >
        <a class="mobile-link" href="our_story.html" target="_parent"
          >Our Story</a
        >
        <a class="mobile-link" href="sign_up.html" target="_parent"
          >Shop Sign Up</a
        >
        <a class="mobile-link" href="FAQ.html" target="_parent">FAQ</a>
        <a class="mobile-link" href="contact_us.html" target="_parent"
          >Contact Us</a
        >
        <a class="mobile-link" href="./shop_tools/login.html" target="_blank"
          >Log In</a
        >
      </nav>
    </header>

    <main>
      <h1 style="color: black">Contact Us</h1>
      <h3 class="paragraph" style="color: black">
        We love questions and feedback - and we're always happy to help! Here
        are some ways to contact us
      </h3>
      <h1 class="title" style="color: black">Here are the founders below</h1>
      <div class="contact-content">
        <div class="contact-card">
          <h1>Mason Tuft</h1>
          <img
            src="images/Mason_riding_moab_1.0.png"
            alt="Mason"
            class="image_100"
          />
          <h3 class="title">Developer/CEO</h3>
          <h3 class="title">
            Email at
            <a
              href="mailto:masontuft@jmrcycling"
              style="color: white; text-decoration: none"
              target="_blank"
              >masontuft@jmrcycling.com</a
            >
          </h3>
        </div>
        <div class="contact-card">
          <h1>Robert Tuft</h1>
          <img src="images/robert_riding.JPG" alt="Robert" class="image_100" />
          <h3 class="title">Senior Developer/CIO</h3>
          <h3 class="title">
            Email at
            <a
              href="mailto:roberttuft@jmrcycling"
              style="color: white; text-decoration: none"
              target="_blank"
              >roberttuft@jmrcycling.com</a
            >
          </h3>
        </div>
        <!-- <div class="contact-card">
          <h1>Jessica Wyman</h1>
          <img
            src="images/Jessica-riding.jpg"
            alt="Jessica"
            class="image_100"
          />
          <h3 class="title">Project Manager/CFO</h3>
          <h3 class="title">
            Email at
            <a
              href="mailto:jessicawyman@jmrcycling"
              style="color: white; text-decoration: none"
              target="_blank"
              >jessicawyman@jmrcycling.com</a
            >
          </h3>
        </div> -->
      </div>
      <div class="contact-form-container">
        <h2 class="form-title">Send Us a Message</h2>
        <div class="form-success" id="form-success" style="display: none">
          <div class="success-icon">✅</div>
          <h3>Message Sent Successfully!</h3>
          <p>
            Thank you for reaching out. We'll get back to you within 24 hours.
          </p>
        </div>
        <form
          action="https://formspree.io/f/myyvklzv"
          method="post"
          name="EmailForm"
          class="contact-form"
          id="contact-form"
        >
          <div class="form-group">
            <label for="name">Full Name <span class="required">*</span></label>
            <input
              type="text"
              id="name"
              name="contact_name"
              placeholder="Your Name"
              required
            />
            <div class="error-message" id="name-error"></div>
            <div class="success-indicator" id="name-success">✓</div>
          </div>
          <div class="form-group">
            <label for="email"
              >Email Address <span class="required">*</span></label
            >
            <input
              type="email"
              id="email"
              name="contact_email"
              placeholder="your.email@example.com"
              required
            />
            <div class="error-message" id="email-error"></div>
            <div class="success-indicator" id="email-success">✓</div>
          </div>
          <div class="form-group">
            <label for="subject">Subject</label>
            <select id="subject" name="contact_subject">
              <option value="">Select a topic (optional)</option>
              <option value="app-support">App Support</option>
              <option value="shop-partnership">Shop Partnership</option>
              <option value="general-inquiry">General Inquiry</option>
              <option value="bug-report">Bug Report</option>
              <option value="feature-request">Feature Request</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="message"
              >Your Message <span class="required">*</span></label
            >
            <textarea
              id="message"
              name="contact_message"
              placeholder="Your question or feedback..."
              rows="6"
              required
            ></textarea>
            <div class="char-counter">
              <span id="char-count">0</span>/500 characters
            </div>
            <div class="error-message" id="message-error"></div>
            <div class="success-indicator" id="message-success">✓</div>
          </div>
          <div class="form-group">
            <button class="submit-button" type="submit" id="submit-btn">
              <span class="btn-text">Send Message</span>
              <span class="btn-spinner" style="display: none"></span>
            </button>
          </div>
        </form>
      </div>
      <!-- 
        <form action="mailto:admin@jmrcycling.com" method="post" enctype="multipart/form-data" name="EmailForm">
            <div id="feedback"></div>
            <ul>
                <li>
                  <label for="name">Name:</label>
                  <input type="text" id="name" name="user_name" placeholder="first name/last name">
                </li>
                <li>
                  <label for="mail">E-mail:</label>
                  <input type="email" id="mail" name="user_email" placeholder="name@example.com">
                </li>
                <li>
                  <label for="msg">Message:</label>
                  <textarea id="msg" name="user_message"></textarea>
                </li>
                <li class="button">
                    <button type="submit">Send your message</button>
                </li>
               </ul>

        </form> -->
    </main>

    <footer>
      <div class="footer">
        <h3>KOR &copy; 2022 - Mason Tuft</h3>
        <!-- <h3><a class="link" href="site-plan.html" target="_parent">Site Plan</a></h3> -->
        <h3>
          <a class="link" href="contact_us.html" target="_parent">Contact Us</a>
        </h3>
        <div class="social">
          <a href="https://facebook.com" target="_blank">
            <img src="./images/facebook.png" alt="FB Icon" />
          </a>

          <a href="https://instagram.com" target="_blank">
            <img src="./images/instagram.png" alt="instagram icon" />
          </a>
        </div>
      </div>
      <!-- <iframe class="footer" src="footer.html"   scrolling="no"></iframe> -->
    </footer>
    <!-- Page Loading and UX Enhancement Scripts -->
    <div class="scroll-progress" id="scroll-progress"></div>

    <script>
      // UX Enhancement JavaScript

      // Scroll Progress Indicator
      function updateScrollProgress() {
        const scrollProgress = document.getElementById('scroll-progress');
        const scrolled =
          (window.scrollY /
            (document.documentElement.scrollHeight - window.innerHeight)) *
          100;
        scrollProgress.style.width = scrolled + '%';
      }

      window.addEventListener('scroll', updateScrollProgress);

      // Page Transition Animation
      document.addEventListener('DOMContentLoaded', function () {
        document.body.classList.add('page-transition');
      });

      // Form Validation and Enhancement
      const form = document.getElementById('contact-form');
      const nameField = document.getElementById('name');
      const emailField = document.getElementById('email');
      const messageField = document.getElementById('message');
      const submitBtn = document.getElementById('submit-btn');
      const charCount = document.getElementById('char-count');

      // Validation functions
      function validateName(name) {
        return name.trim().length >= 2 && /^[a-zA-Z\s]+$/.test(name.trim());
      }

      function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email.trim());
      }

      function validateMessage(message) {
        return message.trim().length >= 10 && message.trim().length <= 500;
      }

      function showError(field, message) {
        const fieldGroup = field.closest('.form-group');
        const errorDiv = fieldGroup.querySelector('.error-message');
        const successDiv = fieldGroup.querySelector('.success-indicator');

        fieldGroup.classList.add('error');
        fieldGroup.classList.remove('success');
        errorDiv.textContent = message;
        errorDiv.classList.add('show');
        successDiv.classList.remove('show');
      }

      function showSuccess(field) {
        const fieldGroup = field.closest('.form-group');
        const errorDiv = fieldGroup.querySelector('.error-message');
        const successDiv = fieldGroup.querySelector('.success-indicator');

        fieldGroup.classList.remove('error');
        fieldGroup.classList.add('success');
        errorDiv.classList.remove('show');
        if (successDiv) {
          successDiv.classList.add('show');
        }
      }

      function clearValidation(field) {
        const fieldGroup = field.closest('.form-group');
        const errorDiv = fieldGroup.querySelector('.error-message');
        const successDiv = fieldGroup.querySelector('.success-indicator');

        fieldGroup.classList.remove('error', 'success');
        errorDiv.classList.remove('show');
        if (successDiv) {
          successDiv.classList.remove('show');
        }
      }

      // Real-time validation
      nameField.addEventListener('blur', function () {
        const name = this.value;
        if (name.length === 0) return;

        if (validateName(name)) {
          showSuccess(this);
        } else {
          showError(
            this,
            'Please enter a valid name (letters only, at least 2 characters)'
          );
        }
      });

      nameField.addEventListener('input', function () {
        if (this.value.length === 0) {
          clearValidation(this);
        }
      });

      emailField.addEventListener('blur', function () {
        const email = this.value;
        if (email.length === 0) return;

        if (validateEmail(email)) {
          showSuccess(this);
        } else {
          showError(this, 'Please enter a valid email address');
        }
      });

      emailField.addEventListener('input', function () {
        if (this.value.length === 0) {
          clearValidation(this);
        }
      });

      // Message character counter
      messageField.addEventListener('input', function () {
        const length = this.value.length;
        charCount.textContent = length;

        const counter = document.querySelector('.char-counter');
        counter.classList.remove('warning', 'danger');

        if (length > 400) {
          counter.classList.add('danger');
        } else if (length > 300) {
          counter.classList.add('warning');
        }

        if (length === 0) {
          clearValidation(this);
        } else if (validateMessage(this.value)) {
          showSuccess(this);
        } else if (length < 10) {
          showError(this, 'Message must be at least 10 characters long');
        } else if (length > 500) {
          showError(this, 'Message must be less than 500 characters');
        }
      });

      // Form submission
      form.addEventListener('submit', function (e) {
        e.preventDefault();

        // Validate all fields
        let isValid = true;

        if (!validateName(nameField.value)) {
          showError(nameField, 'Please enter a valid name');
          isValid = false;
        }

        if (!validateEmail(emailField.value)) {
          showError(emailField, 'Please enter a valid email address');
          isValid = false;
        }

        if (!validateMessage(messageField.value)) {
          if (messageField.value.trim().length < 10) {
            showError(
              messageField,
              'Message must be at least 10 characters long'
            );
          } else {
            showError(messageField, 'Message must be less than 500 characters');
          }
          isValid = false;
        }

        if (!isValid) {
          // Scroll to first error
          const firstError = document.querySelector('.form-group.error');
          if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
          return;
        }

        // Show loading state
        submitBtn.disabled = true;
        submitBtn.classList.add('btn-loading');
        document.querySelector('.btn-text').textContent = 'Sending...';
        document.querySelector('.btn-spinner').style.display = 'inline-block';

        // Submit form data
        const formData = new FormData(form);

        fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            Accept: 'application/json'
          }
        })
          .then(response => {
            if (response.ok) {
              // Show success message
              document.getElementById('form-success').style.display = 'block';
              form.style.display = 'none';

              // Scroll to success message
              document.getElementById('form-success').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
              });
            } else {
              throw new Error('Network response was not ok');
            }
          })
          .catch(error => {
            console.error('Error:', error);
            // Show error message
            const errorDiv = document.createElement('div');
            errorDiv.className = 'network-error';
            errorDiv.innerHTML =
              'Sorry, there was an error sending your message. Please try again or contact us directly.';
            form.insertBefore(errorDiv, form.firstChild);

            // Remove error message after 5 seconds
            setTimeout(() => {
              errorDiv.remove();
            }, 5000);
          })
          .finally(() => {
            // Reset button state
            submitBtn.disabled = false;
            submitBtn.classList.remove('btn-loading');
            document.querySelector('.btn-text').textContent = 'Send Message';
            document.querySelector('.btn-spinner').style.display = 'none';
          });
      });

      // Mobile menu toggle
      function toggleMobileMenu() {
        const mobileNav = document.getElementById('mobile-nav');
        mobileNav.classList.toggle('active');
      }

      // Accessibility enhancements
      document.addEventListener('keydown', function (e) {
        // ESC key closes mobile menu
        if (e.key === 'Escape') {
          const mobileNav = document.getElementById('mobile-nav');
          if (mobileNav.classList.contains('active')) {
            mobileNav.classList.remove('active');
          }
        }
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    </script>
  </body>
</html>
